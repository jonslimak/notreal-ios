<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Microdrama MVP — Screen Mockups v2</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Helvetica Neue', sans-serif;
    background: #1a1a2e;
    color: #e0e0e0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 32px 16px;
    transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  body.drawer-open { margin-right: 420px; }

  h1 { font-size: 20px; font-weight: 600; color: #fff; margin-bottom: 4px; letter-spacing: -0.3px; }
  .subtitle { font-size: 13px; color: #888; margin-bottom: 24px; }

  /* Screen selector tabs */
  .screen-tabs { display: flex; gap: 6px; margin-bottom: 24px; flex-wrap: wrap; justify-content: center; }
  .screen-tab {
    padding: 8px 16px; border-radius: 20px; border: 1px solid #333; background: transparent;
    color: #aaa; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s; font-family: inherit;
  }
  .screen-tab:hover { border-color: #555; color: #ddd; }
  .screen-tab.active { background: #e63946; border-color: #e63946; color: #fff; }

  /* Phone frame */
  .phone-frame {
    width: 375px; height: 812px; background: #0d0d1a; border-radius: 44px;
    border: 3px solid #333; overflow: hidden; position: relative;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  }

  /* Status bar */
  .status-bar {
    height: 54px; display: flex; align-items: flex-end; justify-content: space-between;
    padding: 0 28px 8px; font-size: 12px; font-weight: 600; color: #fff;
    background: #000; position: relative; z-index: 10;
  }
  .status-bar .time { font-size: 15px; font-weight: 700; }
  .status-bar .icons { display: flex; gap: 6px; font-size: 12px; }

  /* Screen container */
  .screen { display: none; height: calc(812px - 54px); overflow-y: auto; position: relative; }
  .screen.active { display: block; }
  .screen::-webkit-scrollbar { display: none; }

  /* Color fills */
  .thumb-1 { background: linear-gradient(135deg, #4a1942, #2d1b4e); }
  .thumb-2 { background: linear-gradient(135deg, #1b3a4b, #16213e); }
  .thumb-3 { background: linear-gradient(135deg, #3d1308, #6b2020); }
  .thumb-4 { background: linear-gradient(135deg, #1a3c40, #0d2137); }
  .thumb-5 { background: linear-gradient(135deg, #2e1065, #1e1b4b); }
  .thumb-6 { background: linear-gradient(135deg, #4c1d1d, #2d1b2e); }

  /* ============================== */
  /* ======== HOME SCREEN ========= */
  /* ============================== */

  /* Top nav bar */
  .home-nav {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px 20px 12px;
  }

  .home-app-name {
    font-size: 20px; font-weight: 800; color: #fff; letter-spacing: -0.5px;
  }

  .home-profile-btn {
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; color: #999; cursor: pointer;
  }

  /* Big hero banner — dominates the screen */
  .home-hero {
    margin: 0 16px; border-radius: 20px; overflow: hidden;
    height: 420px; position: relative;
    display: flex; align-items: flex-end;
  }

  .home-hero::before {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.2) 40%, transparent 70%);
    z-index: 1;
  }

  .hero-content {
    position: relative; z-index: 2; padding: 24px; width: 100%;
  }

  .hero-badge {
    display: inline-block; background: #e63946; color: #fff;
    font-size: 10px; font-weight: 700; padding: 4px 10px; border-radius: 4px;
    text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px;
  }

  .hero-genre {
    font-size: 11px; color: rgba(255,255,255,0.6); font-weight: 500;
    text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px;
  }

  .hero-title {
    font-size: 26px; font-weight: 800; color: #fff; line-height: 1.1;
    margin-bottom: 6px; letter-spacing: -0.3px;
  }

  .hero-meta {
    font-size: 13px; color: rgba(255,255,255,0.5); margin-bottom: 16px;
  }

  .hero-desc {
    font-size: 13px; color: rgba(255,255,255,0.55); line-height: 1.45;
    margin-bottom: 18px; max-width: 280px;
  }

  .hero-cta {
    display: inline-flex; align-items: center; gap: 8px;
    background: #e63946; color: #fff; border: none;
    padding: 14px 28px; border-radius: 12px;
    font-size: 16px; font-weight: 800; cursor: pointer;
    box-shadow: 0 4px 16px rgba(230,57,70,0.3);
  }

  .hero-ep-count {
    display: inline-flex; align-items: center;
    margin-left: 10px; font-size: 13px; color: rgba(255,255,255,0.45);
    font-weight: 500;
  }

  /* Coming Soon section */
  .section-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 28px 20px 14px;
  }

  .section-title { font-size: 17px; font-weight: 700; color: #fff; }

  .coming-soon-grid {
    display: flex; gap: 12px; padding: 0 20px;
  }

  .coming-soon-card {
    flex: 1; border-radius: 14px; overflow: hidden;
    height: 160px; position: relative; cursor: pointer;
  }

  .coming-soon-card::before {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, transparent 60%);
    z-index: 1;
  }

  .coming-soon-overlay {
    position: absolute; bottom: 0; left: 0; right: 0;
    padding: 12px; z-index: 2;
  }

  .coming-soon-badge {
    display: inline-block; background: rgba(255,255,255,0.15);
    color: rgba(255,255,255,0.7); font-size: 9px; font-weight: 700;
    padding: 3px 8px; border-radius: 4px; text-transform: uppercase;
    letter-spacing: 0.5px; margin-bottom: 6px;
    backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  }

  .coming-soon-title {
    font-size: 14px; font-weight: 700; color: #fff; line-height: 1.2;
  }

  .coming-soon-genre {
    font-size: 11px; color: rgba(255,255,255,0.45); margin-top: 2px;
  }

  .home-bottom-pad { height: 40px; }

  /* ============================== */
  /* === JUMP BACK IN TOAST ======= */
  /* ============================== */
  .jumpback-toast {
    position: absolute; bottom: 16px; left: 16px; right: 16px;
    z-index: 20;
    background: rgba(30, 28, 50, 0.92);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 14px;
    padding: 12px; display: flex; align-items: center; gap: 12px;
    cursor: pointer;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
  }

  .jumpback-thumb {
    width: 56px; height: 56px; border-radius: 10px; flex-shrink: 0;
    position: relative; overflow: hidden;
  }

  .jumpback-play {
    position: absolute; inset: 0; display: flex;
    align-items: center; justify-content: center;
    background: rgba(0,0,0,0.3);
  }

  .jumpback-play-icon {
    width: 24px; height: 24px; border-radius: 50%;
    background: rgba(255,255,255,0.9);
    display: flex; align-items: center; justify-content: center;
    font-size: 9px; color: #0d0d1a;
  }

  .jumpback-info { flex: 1; min-width: 0; }

  .jumpback-label {
    font-size: 10px; font-weight: 600; color: #e63946;
    text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;
  }

  .jumpback-title {
    font-size: 14px; font-weight: 700; color: #fff;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }

  .jumpback-episode {
    font-size: 12px; color: #888;
  }

  .jumpback-progress-track {
    position: absolute; bottom: 0; left: 0; right: 0; height: 3px;
    background: rgba(255,255,255,0.06); border-radius: 0 0 10px 10px;
    overflow: hidden;
  }

  .jumpback-progress-fill {
    height: 100%; background: #e63946; border-radius: 0 0 0 10px;
  }

  .jumpback-close {
    width: 28px; height: 28px; border-radius: 50%;
    background: rgba(255,255,255,0.06);
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; color: #666; cursor: pointer; flex-shrink: 0;
  }

  /* ============================== */
  /* ======= PLAYER SCREEN ======== */
  /* ============================== */
  .player-screen {
    background: #000; height: calc(812px - 54px); position: relative;
    display: flex; align-items: center; justify-content: center; overflow: hidden;
  }

  .player-video-area {
    position: absolute; inset: 0;
    background: linear-gradient(180deg, #1a0a2e 0%, #0a0a1a 40%, #0d0510 100%);
    display: flex; align-items: center; justify-content: center;
  }

  .player-placeholder-figure {
    width: 140px; height: 200px; border-radius: 12px;
    background: linear-gradient(135deg, rgba(230,57,70,0.12), rgba(100,50,120,0.08));
    border: 1px solid rgba(230,57,70,0.12);
    display: flex; align-items: center; justify-content: center;
    color: #444; font-size: 40px;
  }

  .player-top-overlay {
    position: absolute; top: 0; left: 0; right: 0; padding: 12px 16px;
    display: flex; justify-content: space-between; align-items: center;
    background: linear-gradient(to bottom, rgba(0,0,0,0.6), transparent); z-index: 2;
  }

  .player-close {
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(255,255,255,0.15);
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-size: 16px; cursor: pointer;
  }

  .player-episode-label {
    font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.9);
  }

  .player-bottom-overlay {
    position: absolute; bottom: 0; left: 0; right: 0;
    padding: 60px 16px 24px;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); z-index: 2;
  }

  .player-series-title { font-size: 18px; font-weight: 800; color: #fff; margin-bottom: 4px; }
  .player-episode-info { font-size: 13px; color: rgba(255,255,255,0.6); margin-bottom: 16px; }

  .player-progress-bar {
    width: 100%; height: 3px; background: rgba(255,255,255,0.15);
    border-radius: 2px; overflow: hidden; margin-bottom: 10px;
  }
  .player-progress-fill { width: 65%; height: 100%; background: #e63946; border-radius: 2px; }

  .player-time-row {
    display: flex; justify-content: space-between;
    font-size: 11px; color: rgba(255,255,255,0.4);
  }

  .player-right-actions {
    position: absolute; right: 16px; bottom: 140px;
    display: flex; flex-direction: column; gap: 20px; align-items: center; z-index: 2;
  }

  .player-action-btn {
    display: flex; flex-direction: column; align-items: center; gap: 4px;
    color: rgba(255,255,255,0.7); cursor: pointer;
  }

  .player-action-icon {
    width: 36px; height: 36px; border-radius: 50%;
    background: rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center; font-size: 16px;
  }

  .player-action-label { font-size: 10px; font-weight: 500; }

  .swipe-hint {
    position: absolute; bottom: 115px; left: 50%; transform: translateX(-50%);
    z-index: 2; display: flex; flex-direction: column; align-items: center; gap: 4px;
    color: rgba(255,255,255,0.3); animation: pulse 2s ease-in-out infinite;
  }
  .swipe-hint-arrow { font-size: 16px; }
  .swipe-hint-text { font-size: 10px; font-weight: 500; }

  @keyframes pulse {
    0%, 100% { opacity: 0.3; transform: translateX(-50%) translateY(0); }
    50% { opacity: 0.6; transform: translateX(-50%) translateY(-4px); }
  }

  /* ============================== */
  /* ======= PAYWALL SCREEN ======= */
  /* ============================== */
  .paywall-screen {
    height: calc(812px - 54px);
    background: linear-gradient(180deg, #1a0a2e 0%, #0d0d1a 40%);
    display: flex; flex-direction: column; position: relative;
  }

  .paywall-close {
    position: absolute; top: 12px; right: 16px;
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center;
    color: #aaa; font-size: 16px; cursor: pointer; z-index: 2;
  }

  .paywall-visual {
    height: 200px; display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 12px;
  }

  .paywall-lock-icon {
    width: 56px; height: 56px; border-radius: 50%;
    background: rgba(230,57,70,0.15);
    display: flex; align-items: center; justify-content: center; font-size: 24px;
  }

  .paywall-heading {
    font-size: 24px; font-weight: 800; color: #fff; text-align: center;
    padding: 0 40px; line-height: 1.2;
  }

  .paywall-subheading {
    font-size: 14px; color: #888; text-align: center; padding: 0 40px; margin-top: 4px;
  }

  .paywall-plans { padding: 24px 20px 16px; display: flex; flex-direction: column; gap: 12px; }

  .plan-card {
    border: 2px solid #2a2a40; border-radius: 16px; padding: 16px 18px;
    cursor: pointer; transition: all 0.2s; position: relative;
  }
  .plan-card.selected { border-color: #e63946; background: rgba(230,57,70,0.06); }

  .plan-card-badge {
    position: absolute; top: -10px; right: 16px;
    background: #e63946; color: #fff; font-size: 10px; font-weight: 700;
    padding: 3px 10px; border-radius: 10px; text-transform: uppercase; letter-spacing: 0.5px;
  }

  .plan-card-row { display: flex; justify-content: space-between; align-items: center; }
  .plan-radio {
    width: 20px; height: 20px; border-radius: 50%; border: 2px solid #444;
    margin-right: 12px; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
  }
  .plan-card.selected .plan-radio { border-color: #e63946; }
  .plan-radio-fill { width: 10px; height: 10px; border-radius: 50%; background: #e63946; display: none; }
  .plan-card.selected .plan-radio-fill { display: block; }
  .plan-name { font-size: 16px; font-weight: 700; color: #fff; }
  .plan-detail { font-size: 12px; color: #888; margin-top: 2px; }
  .plan-price { text-align: right; }
  .plan-price-amount { font-size: 18px; font-weight: 800; color: #fff; }
  .plan-price-period { font-size: 11px; color: #888; }
  .plan-left { display: flex; align-items: center; }
  .plan-left-text { display: flex; flex-direction: column; }

  .paywall-cta {
    margin: 8px 20px 0; background: #e63946; color: #fff; border: none;
    padding: 16px; border-radius: 14px; font-size: 16px; font-weight: 800;
    cursor: pointer; text-align: center; letter-spacing: 0.2px;
  }

  .paywall-restore { text-align: center; padding: 14px; font-size: 13px; color: #888; cursor: pointer; }
  .paywall-restore:hover { color: #aaa; }

  .paywall-legal {
    margin-top: auto; padding: 0 20px 28px; text-align: center;
    font-size: 11px; color: #555; line-height: 1.6;
  }
  .paywall-legal a { color: #888; text-decoration: underline; }

  /* ============================== */
  /* ======= PROFILE SCREEN ======= */
  /* ============================== */
  .profile-back-row {
    display: flex; align-items: center; padding: 8px 16px 0; gap: 8px;
  }
  .profile-back {
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(255,255,255,0.06);
    display: flex; align-items: center; justify-content: center;
    color: #999; font-size: 18px; cursor: pointer;
  }
  .profile-back-label { font-size: 15px; color: #999; font-weight: 500; }

  .profile-header {
    display: flex; flex-direction: column; align-items: center;
    padding: 24px 20px 16px; gap: 12px;
  }
  .profile-avatar {
    width: 72px; height: 72px; border-radius: 50%;
    background: linear-gradient(135deg, #2a2a40, #1f1f35);
    display: flex; align-items: center; justify-content: center;
    font-size: 28px; color: #666;
  }
  .profile-name { font-size: 18px; font-weight: 700; color: #fff; }
  .profile-status {
    font-size: 12px; color: #888; background: rgba(255,255,255,0.05);
    padding: 4px 12px; border-radius: 10px;
  }

  .profile-apple-btn {
    display: flex; align-items: center; justify-content: center; gap: 8px;
    background: #fff; color: #000; border: none;
    padding: 14px 24px; border-radius: 12px; font-size: 15px; font-weight: 700;
    cursor: pointer; margin: 8px 20px 0; width: calc(100% - 40px);
  }
  .profile-apple-icon { font-size: 20px; }

  .profile-section { padding: 24px 0 0; }
  .profile-section-title {
    font-size: 11px; font-weight: 700; color: #555; text-transform: uppercase;
    letter-spacing: 1px; padding: 0 20px 10px;
  }
  .profile-row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 20px; cursor: pointer; transition: background 0.15s;
  }
  .profile-row:hover { background: rgba(255,255,255,0.02); }
  .profile-row-left { display: flex; align-items: center; gap: 12px; }
  .profile-row-icon {
    width: 32px; height: 32px; border-radius: 8px;
    background: rgba(255,255,255,0.05);
    display: flex; align-items: center; justify-content: center; font-size: 15px;
  }
  .profile-row-label { font-size: 15px; color: #ddd; font-weight: 500; }
  .profile-row-chevron { color: #444; font-size: 14px; }
  .profile-row.danger .profile-row-label { color: #e63946; }
  .profile-row.danger .profile-row-icon { color: #e63946; }
  .profile-version { text-align: center; padding: 24px; font-size: 11px; color: #444; }

  /* ============================== */
  /* ======== NOTES PANEL ========= */
  /* ============================== */
  .notes-panel {
    max-width: 375px; margin-top: 20px;
    background: rgba(255,255,255,0.03); border: 1px solid #222;
    border-radius: 12px; padding: 16px 20px;
  }
  .notes-title {
    font-size: 13px; font-weight: 700; color: #aaa; margin-bottom: 8px;
    text-transform: uppercase; letter-spacing: 0.5px;
  }
  .notes-list { list-style: none; display: flex; flex-direction: column; gap: 6px; }
  .notes-list li {
    font-size: 12px; color: #777; line-height: 1.5;
    padding-left: 12px; position: relative;
  }
  .notes-list li::before {
    content: ''; position: absolute; left: 0; top: 7px;
    width: 4px; height: 4px; border-radius: 50%; background: #e63946;
  }

  /* ============================== */
  /* ========= DOCS DRAWER ======== */
  /* ============================== */
  .drawer-toggle {
    position: fixed; top: 50%; right: 0; transform: translateY(-50%);
    z-index: 1000;
    background: rgba(30, 28, 50, 0.95); border: 1px solid #333;
    border-right: none; border-radius: 10px 0 0 10px;
    padding: 12px 10px; cursor: pointer;
    color: #aaa; font-size: 11px; font-weight: 600;
    writing-mode: vertical-rl; text-orientation: mixed;
    letter-spacing: 1px; text-transform: uppercase;
    transition: all 0.25s;
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  }
  .drawer-toggle:hover { background: rgba(45, 42, 70, 0.95); color: #ddd; }
  .drawer-toggle.open { right: 420px; }

  .drawer-overlay { display: none; }

  .drawer {
    position: fixed; top: 0; right: -420px; bottom: 0; width: 420px;
    z-index: 999;
    background: #111122;
    border-left: 1px solid #2a2a40;
    display: flex; flex-direction: column;
    transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: -8px 0 32px rgba(0,0,0,0.4);
  }
  .drawer.open { right: 0; }

  .drawer-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px 20px 0;
  }
  .drawer-title {
    font-size: 14px; font-weight: 700; color: #fff;
    letter-spacing: -0.2px;
  }
  .drawer-close {
    width: 28px; height: 28px; border-radius: 50%;
    background: rgba(255,255,255,0.06); border: none;
    display: flex; align-items: center; justify-content: center;
    color: #888; font-size: 14px; cursor: pointer;
  }
  .drawer-close:hover { background: rgba(255,255,255,0.1); color: #ccc; }

  .drawer-tabs {
    display: flex; gap: 4px; padding: 12px 20px 0;
  }
  .drawer-tab {
    padding: 8px 14px; border-radius: 8px 8px 0 0;
    border: 1px solid transparent; border-bottom: none;
    background: transparent; color: #666; font-size: 12px; font-weight: 600;
    cursor: pointer; font-family: inherit; transition: all 0.15s;
  }
  .drawer-tab:hover { color: #aaa; }
  .drawer-tab.active {
    background: #0d0d1a; color: #e63946;
    border-color: #2a2a40;
  }

  .drawer-body {
    flex: 1; overflow-y: auto;
    background: #0d0d1a; border-top: 1px solid #2a2a40;
    margin: 0;
  }
  .drawer-body::-webkit-scrollbar { width: 6px; }
  .drawer-body::-webkit-scrollbar-track { background: transparent; }
  .drawer-body::-webkit-scrollbar-thumb { background: #2a2a40; border-radius: 3px; }
  .drawer-body::-webkit-scrollbar-thumb:hover { background: #3a3a50; }

  .drawer-content {
    display: none; padding: 20px;
    font-size: 12.5px; line-height: 1.7; color: #bbb;
    white-space: pre-wrap; word-wrap: break-word;
    font-family: 'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
  }
  .drawer-content.active { display: block; }

  /* Markdown-like styling inside drawer */
  .drawer-content .md-h1 {
    font-size: 16px; font-weight: 800; color: #fff;
    margin: 0 0 8px; padding-bottom: 6px;
    border-bottom: 1px solid #222; font-family: inherit;
    display: block; white-space: normal;
  }
  .drawer-content .md-h2 {
    font-size: 14px; font-weight: 700; color: #e0e0e0;
    margin: 20px 0 6px; font-family: inherit;
    display: block; white-space: normal;
  }
  .drawer-content .md-h3 {
    font-size: 13px; font-weight: 700; color: #ccc;
    margin: 16px 0 4px; font-family: inherit;
    display: block; white-space: normal;
  }
  .drawer-content .md-li {
    display: block; padding-left: 14px; position: relative;
    white-space: normal; margin: 2px 0;
  }
  .drawer-content .md-li::before {
    content: ''; position: absolute; left: 2px; top: 8px;
    width: 4px; height: 4px; border-radius: 50%; background: #555;
  }
  .drawer-content .md-text {
    display: block; white-space: normal; margin: 2px 0;
  }
  .drawer-content .md-code {
    background: rgba(255,255,255,0.04); padding: 1px 5px;
    border-radius: 3px; color: #e63946; font-size: 11.5px;
  }
</style>
</head>
<body>

<h1>Microdrama MVP Screens</h1>
<p class="subtitle">v2 — Simplified for 1-2 show launch</p>

<div class="screen-tabs">
  <button class="screen-tab" onclick="showScreen('home')">Home</button>
  <button class="screen-tab active" onclick="showScreen('player')">Player</button>
  <button class="screen-tab" onclick="showScreen('paywall')">Paywall</button>
  <button class="screen-tab" onclick="showScreen('profile')">Profile</button>
</div>

<div class="phone-frame" id="phoneFrame">
  <div class="status-bar" id="statusBar">
    <span class="time">9:41</span>
    <span class="icons">
      <span>&#9679;&#9679;&#9679;&#9679;</span>
      <span>&#128267;</span>
    </span>
  </div>

  <!-- ===== HOME ===== -->
  <div class="screen" id="screen-home">
    <!-- Top nav: app name + profile icon -->
    <div class="home-nav">
      <div class="home-app-name">Dramify</div>
      <div class="home-profile-btn">&#9679;</div>
    </div>

    <!-- Big hero banner — the flagship show -->
    <div class="home-hero thumb-5">
      <div class="hero-content">
        <div class="hero-badge">Now Streaming</div>
        <div class="hero-genre">Romance &bull; Drama</div>
        <div class="hero-title">The CEO's Secret<br>Marriage</div>
        <div class="hero-desc">After a drunken night in Vegas, Maya wakes up married to the city's most powerful CEO. Neither gets what they want.</div>
        <div style="display:flex;align-items:center">
          <div class="hero-cta">&#9654;&ensp;Watch Now</div>
          <div class="hero-ep-count">32 episodes</div>
        </div>
      </div>
    </div>

    <!-- Coming Soon -->
    <div class="section-header">
      <span class="section-title">Coming Soon</span>
    </div>

    <div class="coming-soon-grid">
      <div class="coming-soon-card thumb-3">
        <div class="coming-soon-overlay">
          <div class="coming-soon-badge">Coming Soon</div>
          <div class="coming-soon-title">Forbidden Heir</div>
          <div class="coming-soon-genre">Romance</div>
        </div>
      </div>
      <div class="coming-soon-card thumb-2">
        <div class="coming-soon-overlay">
          <div class="coming-soon-badge">Coming Soon</div>
          <div class="coming-soon-title">Moonlit Vow</div>
          <div class="coming-soon-genre">Thriller</div>
        </div>
      </div>
    </div>

    <div class="home-bottom-pad"></div>

    <!-- Jump Back In toast (for returning users) -->
    <div class="jumpback-toast" id="jumpbackToast">
      <div class="jumpback-thumb thumb-5">
        <div class="jumpback-play">
          <div class="jumpback-play-icon">&#9654;</div>
        </div>
        <div class="jumpback-progress-track">
          <div class="jumpback-progress-fill" style="width:65%"></div>
        </div>
      </div>
      <div class="jumpback-info">
        <div class="jumpback-label">Jump back in</div>
        <div class="jumpback-title">The CEO's Secret Marriage</div>
        <div class="jumpback-episode">Ep 3 &bull; 0:42 left</div>
      </div>
      <div class="jumpback-close" onclick="event.stopPropagation();document.getElementById('jumpbackToast').style.display='none'">&#10005;</div>
    </div>
  </div>

  <!-- ===== PLAYER (default screen — app opens here) ===== -->
  <div class="screen active" id="screen-player">
    <div class="player-screen">
      <div class="player-video-area">
        <div class="player-placeholder-figure">&#9654;</div>
      </div>

      <div class="player-top-overlay">
        <div class="player-close">&#10005;</div>
        <div class="player-episode-label">Ep 3 of 32</div>
        <div style="width:32px"></div>
      </div>

      <div class="player-right-actions">
        <div class="player-action-btn">
          <div class="player-action-icon">&#9825;</div>
          <div class="player-action-label">Like</div>
        </div>
        <div class="player-action-btn">
          <div class="player-action-icon">&#8631;</div>
          <div class="player-action-label">Share</div>
        </div>
        <div class="player-action-btn">
          <div class="player-action-icon">&#9776;</div>
          <div class="player-action-label">Episodes</div>
        </div>
      </div>

      <div class="swipe-hint">
        <div class="swipe-hint-arrow">&#8593;</div>
        <div class="swipe-hint-text">Swipe for next</div>
      </div>

      <div class="player-bottom-overlay">
        <div class="player-series-title">The CEO's Secret Marriage</div>
        <div class="player-episode-info">Episode 3 &bull; Rules of Engagement</div>
        <div class="player-progress-bar">
          <div class="player-progress-fill"></div>
        </div>
        <div class="player-time-row">
          <span>0:58</span>
          <span>1:25</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== PAYWALL ===== -->
  <div class="screen" id="screen-paywall">
    <div class="paywall-screen">
      <div class="paywall-close">&#10005;</div>

      <div class="paywall-visual">
        <div class="paywall-lock-icon">&#128274;</div>
        <div class="paywall-heading">Keep Watching</div>
        <div class="paywall-subheading">Subscribe to unlock every episode of every series</div>
      </div>

      <div class="paywall-plans">
        <div class="plan-card" onclick="selectPlan(this)">
          <div class="plan-card-row">
            <div class="plan-left">
              <div class="plan-radio"><div class="plan-radio-fill"></div></div>
              <div class="plan-left-text">
                <div class="plan-name">Monthly</div>
                <div class="plan-detail">Billed every month</div>
              </div>
            </div>
            <div class="plan-price">
              <div class="plan-price-amount">$9.99</div>
              <div class="plan-price-period">/month</div>
            </div>
          </div>
        </div>

        <div class="plan-card selected" onclick="selectPlan(this)">
          <div class="plan-card-badge">Best Value</div>
          <div class="plan-card-row">
            <div class="plan-left">
              <div class="plan-radio"><div class="plan-radio-fill"></div></div>
              <div class="plan-left-text">
                <div class="plan-name">Yearly</div>
                <div class="plan-detail">$4.99/mo &bull; Save 50%</div>
              </div>
            </div>
            <div class="plan-price">
              <div class="plan-price-amount">$59.99</div>
              <div class="plan-price-period">/year</div>
            </div>
          </div>
        </div>
      </div>

      <button class="paywall-cta">Subscribe Now</button>
      <div class="paywall-restore">Restore Purchase</div>

      <div class="paywall-legal">
        Payment will be charged to your Apple ID account at confirmation of purchase.
        Subscription automatically renews unless canceled at least 24 hours before the end of the current period.
        <br><br>
        <a href="#">Terms of Service</a> &bull; <a href="#">Privacy Policy</a>
      </div>
    </div>
  </div>

  <!-- ===== PROFILE ===== -->
  <div class="screen" id="screen-profile">
    <div class="profile-back-row">
      <div class="profile-back">&#8249;</div>
      <div class="profile-back-label">Home</div>
    </div>

    <div class="profile-header">
      <div class="profile-avatar">&#128100;</div>
      <div class="profile-name">Guest</div>
      <div class="profile-status">No active subscription</div>
    </div>

    <button class="profile-apple-btn">
      <span class="profile-apple-icon">&#63743;</span>
      Sign in with Apple
    </button>

    <div class="profile-section">
      <div class="profile-section-title">Subscription</div>
      <div class="profile-row">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#11088;</div>
          <div class="profile-row-label">Upgrade to Premium</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
      <div class="profile-row">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#8635;</div>
          <div class="profile-row-label">Restore Purchase</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
    </div>

    <div class="profile-section">
      <div class="profile-section-title">Support</div>
      <div class="profile-row">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#128172;</div>
          <div class="profile-row-label">Help & Contact</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
      <div class="profile-row">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#128196;</div>
          <div class="profile-row-label">Terms of Service</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
      <div class="profile-row">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#128274;</div>
          <div class="profile-row-label">Privacy Policy</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
    </div>

    <div class="profile-section">
      <div class="profile-section-title">Account</div>
      <div class="profile-row danger">
        <div class="profile-row-left">
          <div class="profile-row-icon">&#128465;</div>
          <div class="profile-row-label">Delete Account</div>
        </div>
        <div class="profile-row-chevron">&#8250;</div>
      </div>
    </div>

    <div class="profile-version">Version 1.0.0</div>
  </div>
</div>

<!-- Notes panels -->
<div class="notes-panel" id="notes-player">
  <div class="notes-title">Player Notes</div>
  <ul class="notes-list">
    <li>App opens directly into the player — no onboarding, no home screen first</li>
    <li>Full-screen 9:16 vertical video — the core experience</li>
    <li>Swipe up to auto-advance to next episode</li>
    <li>Auto-advance stops and shows paywall at first locked episode (ep 6+)</li>
    <li>Close button exits to Home screen</li>
    <li>Right-side actions (like, share, episodes) are optional for MVP</li>
  </ul>
</div>
<div class="notes-panel" id="notes-home" style="display:none">
  <div class="notes-title">Home Screen Notes</div>
  <ul class="notes-list">
    <li>No tab bar — just a profile icon in the top nav (minimal with 1-2 shows)</li>
    <li>Hero banner dominates: this IS the app for now. One big show, one big CTA</li>
    <li>Coming Soon tiles give a sense of pipeline and keep the page from feeling empty</li>
    <li>"Jump back in" toast appears only for returning users with watch progress</li>
    <li>Toast is dismissible (X button) and tapping it resumes playback</li>
    <li>Hero show and Coming Soon titles are driven by Firestore/Remote Config</li>
  </ul>
</div>
<div class="notes-panel" id="notes-paywall" style="display:none">
  <div class="notes-title">Paywall Notes</div>
  <ul class="notes-list">
    <li>Triggered when user hits first locked episode (auto-advance or direct tap)</li>
    <li>Yearly plan pre-selected with "Best Value" badge for conversion</li>
    <li>Clear price + billing period shown (App Store compliance)</li>
    <li>Restore Purchase visible (App Store requirement)</li>
    <li>Auto-renewal disclosure + Terms/Privacy links mandatory</li>
    <li>Sign in with Apple triggers when guest taps Subscribe</li>
  </ul>
</div>
<div class="notes-panel" id="notes-profile" style="display:none">
  <div class="notes-title">Profile Notes</div>
  <ul class="notes-list">
    <li>Accessed via profile icon on Home screen (no tab bar)</li>
    <li>Back arrow returns to Home</li>
    <li>Guest state by default — Sign in with Apple only for account persistence</li>
    <li>Delete Account visible only for signed-in users (App Store requirement)</li>
    <li>Restore Purchase accessible from both paywall and profile</li>
  </ul>
</div>

<!-- ===== DOCS DRAWER ===== -->
<div class="drawer-toggle" id="drawerToggle" onclick="toggleDrawer()">Docs</div>
<div class="drawer-overlay" id="drawerOverlay" onclick="toggleDrawer()"></div>
<div class="drawer" id="drawer">
  <div class="drawer-header">
    <div class="drawer-title">Project Docs</div>
    <button class="drawer-close" onclick="toggleDrawer()">&#10005;</button>
  </div>
  <div class="drawer-tabs">
    <button class="drawer-tab active" onclick="showDrawerTab('progress')">Progress</button>
    <button class="drawer-tab" onclick="showDrawerTab('plan')">Plan</button>
    <button class="drawer-tab" onclick="showDrawerTab('tasks')">Tasks</button>
  </div>
  <div class="drawer-body">
    <div class="drawer-content active" id="drawer-progress"></div>
    <div class="drawer-content" id="drawer-plan"></div>
    <div class="drawer-content" id="drawer-tasks"></div>
  </div>
</div>

<script>
// Raw file contents — will be rendered as styled markdown
const DOC_SOURCES = {
  progress: `# Progress Log

## 2026-02-09
- Initialized shared-memory workflow for this project.
- Added task tracking file and project index entry.
- Next step: run $start to set priorities, risks, and next actions.
- Completed planning pass and documented MVP scope/architecture in \`plan.md\`.
- Locked sprint-based plan, launch risk gate, and core funnel analytics events.
- Next step: run one final planning review before implementation docs.
- Final planning review completed and approved updates were applied to \`plan.md\`.
- Added compliance must-haves, security baseline, analytics operating model, expanded IAP test matrix, and acceptance criteria.
- Expanded \`plan.md\` with project context at the top and a combined implementation architecture + build order section.
- Created \`analytics-spec.md\` and \`launch-checklist.md\`, and referenced both from the implementation section in \`plan.md\`.
- Ran a cross-doc consistency pass and applied fixes for sprint-only wording, analytics property definitions, and checklist alignment.`,

  plan: `# iosapp MVP Plan (Microdrama iOS App)

## Project Context
\`iosapp\` is a consumer video app for short-form microdramas, aimed at women ages 30-60 in the US market.

The product objective is simple:
1. Let users start watching immediately with almost no setup.
2. Keep viewers in a smooth binge flow with vertical swipe playback.
3. Convert engaged viewers to paid subscribers through clear subscription gates.

Business and delivery context:
1. Content is produced by a separate internal studio team.
2. The app team focus is distribution, playback quality, and monetization.
3. MVP must avoid overbuilding and use low-complexity tools.
4. Launch target is a fast MVP window with a clear compliance path for Apple review.

## Summary
Build a native iOS app for short vertical microdramas with a simple binge flow and subscription monetization.

Primary goals:
1. Keep complexity low for a sprint-based MVP.
2. Avoid overbuilding.
3. Reduce App Store rejection risk.
4. Enable simple funnel analytics for optimization.

## Product Scope (Locked)
1. Audience: women 30-60, US-only, English-first, 17+ target.
2. Core UX: vertical swipe feed, full-screen playback, auto-advance episodes.
3. Access: guest-first viewing.
4. Gate: first 5 episodes free, then marked locked episodes.
5. Monetization: subscription-only in v1, coins-compatible model for later.
6. Plans: monthly + yearly, no free trial at launch (trial-capable config retained).
7. Auth: Sign in with Apple at subscribe/restore boundary.
8. Content ops: Firebase Console only (no custom admin panel in MVP).
9. Out of scope: comments, downloads, live chat, coin economy UI.

## Technical Decisions
1. App stack: SwiftUI + AVFoundation/AVKit.
2. Backend: Firebase (Firestore + Storage URLs + Remote Config + FCM).
3. Billing: StoreKit 2 via RevenueCat.
4. Analytics: Firebase Analytics + RevenueCat integration + BigQuery export.
5. No custom backend or custom BI dashboard in MVP.

## Implementation Architecture + Build Order
Use this section as the main implementation guide.

### Architecture Overview
1. App Shell Layer — SwiftUI app entry, navigation, app lifecycle, environment setup.
2. Content Layer — Firebase-backed read models for series/episodes/config. Lock rules and free-episode logic live in one shared rules module.
3. Playback Layer — Vertical swipe feed UI and full-screen AVPlayer experience. Auto-advance and lock interception behavior.
4. Monetization Layer — RevenueCat + StoreKit 2 entitlement checks. Purchase, restore, and guest-to-account upgrade boundaries.
5. User and Account Layer — Anonymous guest default. Sign in with Apple on purchase/restore path. Account deletion entry point for signed-in users.
6. Analytics Layer — Central analytics dispatcher to avoid event drift.
7. Release and Risk Layer — Compliance gates, review package, and final checks.

### Build Order (Execution Sequence)
1. Stage 1: Foundation — Set up project, Firebase environments, dependency wiring, core models.
2. Stage 2: Core Viewing Experience — Build feed UI, video player, autoplay, and episode transitions.
3. Stage 3: Locking + Paywall — Implement first-5-free behavior and marked-lock interception. Build paywall UI.
4. Stage 4: Subscription + Account Boundary — Integrate RevenueCat purchases and restore. Add Sign in with Apple.
5. Stage 5: Analytics + Notifications — Implement analytics event contract and KPI dashboard inputs.
6. Stage 6: Security + Compliance Hardening — Finalize rules, App Check enforcement, account deletion flow.
7. Stage 7: Release Readiness Buffer — Bug fixing, conversion tuning via config, final regression pass.

### Sprint Mapping
1. Sprint 1: Stage 1 + start Stage 2.
2. Sprint 2: finish Stage 2 + start Stage 3.
3. Sprint 3: finish Stage 3 + Stage 4.
4. Sprint 4: Stage 5.
5. Sprint 5: Stage 6.
6. Sprint 6: Stage 7 and submission readiness.
7. Sprint 7 (buffer): final fixes only for critical launch blockers.

## Security Baseline (Required)
1. Firestore security rules must deny open public read/write by default.
2. Storage rules must restrict upload/update paths to authorized app flows only.
3. Add Firebase App Check in monitor mode first, then enforce before launch.
4. Add rule tests with Firebase Emulator before TestFlight release build.
5. Restrict service account access and keep all secrets out of app bundle/repo.

## Core Interfaces / Types
1. \`Series\`: id, title, coverUrl, genre, sortOrder, isFeatured.
2. \`Episode\`: id, seriesId, episodeNumber, videoUrl, durationSec, isLocked, publishAt.
3. \`PaywallConfig\`: freeEpisodeCount, showTrial, defaultPlanOrder, gateMode.
4. \`EntitlementState\`: userId, isSubscribed, source, expiresAt, updatedAt.
5. \`AnalyticsEvent\`: name, userId, seriesId, episodeId, isSubscribed, timestamp.

## Launch Risk Gate (Required)
1. Subscription/paywall copy and pricing clarity meets App Store rules.
2. Purchases use App Store-compliant digital purchase flows.
3. Mature-content handling matches rating and policy stance.
4. UX patterns may be familiar, but branding/UI/copy remain distinct.
5. Reviewer notes and demo flow are ready for App Review.
6. Privacy baseline is complete (policy, terms, SDK disclosure).
7. Launch catalog (1-2 flagship series) is fully loaded and QA checked.

## Compliance Must-Haves (Required)
1. In-app account deletion flow is available and easy to find for signed-in users.
2. Paywall shows plan duration and full billed price clearly (monthly/yearly).
3. Paywall includes links to Terms and Privacy Policy.
4. Restore purchase and Sign in with Apple paths are visible and functional.
5. App Review package includes: reviewer notes, demo/test account flow, and IAP path instructions.

## Funnel Analytics Events (Must-Have)
1. app_open
2. episode_impression
3. episode_start
4. episode_complete
5. gate_blocked
6. paywall_shown
7. subscribe_tap
8. purchase_success
9. purchase_restore
10. push_open

## Acceptance Criteria
1. Guest user can watch first 5 episodes without signup friction.
2. Locked episodes always route to compliant paywall with clear pricing and legal links.
3. Monthly/yearly purchase and restore flows succeed in sandbox and TestFlight.
4. Account deletion is accessible and functional for signed-in users.
5. Security baseline items (rules + App Check + tests) are complete.
6. Launch risk gate checklist is fully passed before App Store submission.
7. Funnel analytics dashboard is live and reviewed at sprint cadence.

## Assumptions and Defaults
1. Minimum iOS target: iOS 15.1+.
2. Trial is off at launch but can be enabled later via config.
3. Price points are finalized in App Store Connect before release.
4. Content team delivers launch-ready assets on schedule.`,

  tasks: `# Context Snapshot

- Project: iosapp
- Repo: /Users/jonslimak/Projects/iosapp
- Status: Bootstrapped; ready for first planning pass
- Product goal: TBD

## Initial Action List
1. Run \$start to generate priorities, risks, and next actions.
2. Define the first concrete milestone and acceptance criteria.
3. Break the milestone into build + verification steps.
4. Decide whether to add prd.json now.`
};

// Simple markdown-to-HTML renderer
function renderMarkdown(src) {
  return src.split('\n').map(line => {
    if (line.startsWith('# ')) return `<span class="md-h1">${esc(line.slice(2))}</span>`;
    if (line.startsWith('## ')) return `<span class="md-h2">${esc(line.slice(3))}</span>`;
    if (line.startsWith('### ')) return `<span class="md-h3">${esc(line.slice(4))}</span>`;
    if (/^[\-\d]+[\.\)] /.test(line.trim())) return `<span class="md-li">${inlineCode(esc(line.trim().replace(/^[\-\d]+[\.\)] /, '')))}</span>`;
    if (line.trim() === '') return '<br>';
    return `<span class="md-text">${inlineCode(esc(line))}</span>`;
  }).join('\n');
}

function esc(s) {
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function inlineCode(s) {
  return s.replace(/`([^`]+)`/g, '<span class="md-code">$1</span>');
}

// Populate drawer content on load
document.getElementById('drawer-progress').innerHTML = renderMarkdown(DOC_SOURCES.progress);
document.getElementById('drawer-plan').innerHTML = renderMarkdown(DOC_SOURCES.plan);
document.getElementById('drawer-tasks').innerHTML = renderMarkdown(DOC_SOURCES.tasks);

function toggleDrawer() {
  document.getElementById('drawer').classList.toggle('open');
  document.getElementById('drawerToggle').classList.toggle('open');
  document.body.classList.toggle('drawer-open');
}

function showDrawerTab(name) {
  document.querySelectorAll('.drawer-tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.drawer-content').forEach(c => c.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('drawer-' + name).classList.add('active');
}

function showScreen(name) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.screen-tab').forEach(t => t.classList.remove('active'));
  document.getElementById('screen-' + name).classList.add('active');
  event.target.classList.add('active');

  document.querySelectorAll('.notes-panel').forEach(n => n.style.display = 'none');
  const notes = document.getElementById('notes-' + name);
  if (notes) notes.style.display = 'block';

  const statusBar = document.getElementById('statusBar');
  if (name === 'player') {
    statusBar.style.background = '#000';
  } else if (name === 'paywall') {
    statusBar.style.background = '#1a0a2e';
  } else {
    statusBar.style.background = '';
  }

  // Reset jump back in toast when switching to home
  if (name === 'home') {
    document.getElementById('jumpbackToast').style.display = 'flex';
  }
}

function selectPlan(card) {
  document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
  card.classList.add('selected');
}
</script>

</body>
</html>
